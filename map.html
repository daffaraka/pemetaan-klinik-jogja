<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pemetaan Dokter Spesialis Orthodonti Di Kota Yogyakarta</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous">
        <link rel="shortcut icon" type="image/x-icon"
            href="docs/images/favicon.ico" />

        <link rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
            integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
            crossorigin />
        <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
            integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
            crossorigin></script>

        <!-- leaflet routing machine -->
        <link rel="stylesheet"
            href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />

        <!-- leaflet locate -->
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.css" />

     <link rel="stylesheet" href="style.css">
</head>

    <body>

        <div class="container py-5">
            <h1 class="text-center">Selamat Datang Di Pencarian Klinik</h1>

            <center>
                <div id="map" style="width: auto; height: 500px;"></div>
            </center>
        </div>


        
        <footer>
            <div class="bg-dark text-center text-light py-4">
                - Rahma Harun A 117200009 Teknik Geomatika -
            </div>
        </footer>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>

        <!-- leaflet js locate -->
        <script
            src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.js"
            charset="utf-8"></script>

        <!-- leaflet js routing machine -->
        <script
            src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

        <!-- moving letter js -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>

        <!-- bootstrap js -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"></script>

        <!-- local js -->
        <script src="assets/js/script.js"></script>

        <script>
            const map = L.map('map').setView([-7.775016, 110.410581], 15);
            L.control.locate().addTo(map);
        
            const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);
        
            // Data klinik beserta koordinatnya
            const klinikData = [
                { nama: 'Klinik Opal Dental Pakuningratan', koordinat: [-7.7810615, 110.3625265], link: 'klinik_opal_pakuningratan.html' },
                { nama: 'Klinik Opal Demangan', koordinat: [-7.7803075,110.3892165], link: 'klinik_opal_demangan.html' },
                { nama: 'Joy Dental Godean', koordinat: [-7.7816202, 110.3489824], link: 'klinik_joy_dental_godean.html' },
                { nama: 'Joy Dental Aesthetic Center Demangan', koordinat: [-7.7805272, 110.3899397], link: 'klinik_joy_dental_demangan.html' },
                { nama: 'Dentes Godean', koordinat: [-7.7799433, 110.3412477] , link: 'klinik_dentes.html'},
                { nama: 'RS Siloam', koordinat: [-7.3904412, 110.0827557] , link: 'klinik_siloam.html'},
                { nama: 'Rumah Sakit PKU Muhammadiyah Yogyakarta', koordinat: [-7.8007457, 110.3594951] , link: 'klinik_pku.html'},
                { nama: 'Kusuma Dental Kotabaru', koordinat: [-7.7852306, 110.3705491] , link: 'klinik_kusuma_dental_kotabaru.html'},
                { nama: 'Prima Medika', koordinat: [-7.7852039, 110.3628242] , link: 'klinik_prima.html'},
                { nama: "Klinik D'Smile", koordinat: [-7.7930808, 110.3764502] , link: 'klinik_dsmile.html'}
            ];
        
            // Menambahkan marker untuk setiap klinik
            klinikData.forEach(klinik => {
                let popupContent = `<b>${klinik.nama}</b><br />`;
                if (klinik.link) {
                    popupContent += `<a href="${klinik.link}" target="_blank">Kunjungi Halaman Klinik</a>`;
                }
                L.marker(klinik.koordinat).addTo(map)
                    .bindPopup(popupContent).openPopup();
            });
        
            const popup = L.popup()
                .setLatLng([-7.775016, 110.410581]);
        
            function onMapClick(e) {
                popup
                    .setLatLng(e.latlng)
                    .setContent(`Anda menekan pada peta di koordinat ${e.latlng.toString()}`)
                    .openOn(map);
            }
        
            map.on('click', onMapClick);
        
            map.on('click', function (e) {
                console.log(e);
                var newMarker = L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);
        
                L.Routing.control({
                    waypoints: [
                        L.latLng(-7.761072, 110.409372),
                        L.latLng(e.latlng.lat, e.latlng.lng)
                    ]
                }).addTo(map);
            });
        </script>

    </body>

</html>